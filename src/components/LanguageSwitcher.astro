---
const currentPath = Astro.url.pathname;
const currentLang = currentPath.startsWith('/fr') ? 'fr' : 'en';

const getOppositeUrl = () => {
  if (currentLang === 'en') {
    return '/fr' + currentPath;
  } else {
    return currentPath.replace('/fr', '');
  }
};
---

<div class="language-switcher">
  <a href={getOppositeUrl()} class="language-switcher__link font-semibold">
    {currentLang === 'en' ? 'FR' : 'EN'}
  </a>
</div>

<style>
  .language-switcher {
    display: inline-flex;
  }

  .language-switcher__link {
    padding: 0.35rem 0.9rem;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 0.375rem;
    color: #111827;
    font-size: 0.875rem;
    text-decoration: none;
    transition: opacity 0.2s;
  }

  .language-switcher__link:hover {
    opacity: 0.75;
  }

  @media (prefers-color-scheme: dark) {
    .language-switcher__link {
      background: rgba(17, 24, 39, 0.7);
      color: white;
      border-color: rgba(255, 255, 255, 0.1);
    }
  }
</style>
